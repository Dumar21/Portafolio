<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Portafolio - Roblox Developer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header / Hero Section */
        .hero {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border-radius: 20px;
            margin-bottom: 60px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .profile-section {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .avatar-container {
            position: relative;
        }

        .avatar {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 4px solid #d4af37;
            object-fit: cover;
            box-shadow: 0 8px 30px rgba(212, 175, 55, 0.3);
        }

        .info-text {
            text-align: left;
            max-width: 500px;
        }

        .hero h1 {
            font-size: 3em;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #ffffff 0%, #d4af37 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.2em;
            color: #b0b0b0;
            line-height: 1.6;
        }

        .stats {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: rgba(212, 175, 55, 0.1);
            padding: 15px 30px;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #d4af37;
        }

        .stat-label {
            font-size: 0.9em;
            color: #b0b0b0;
            margin-top: 5px;
        }

        /* Projects Section */
        .projects-section {
            padding: 40px 0;
        }

        .section-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 50px;
            color: #ffffff;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .project-card {
            background: #1a1a1a;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #2d2d2d;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 50px rgba(212, 175, 55, 0.2);
            border-color: #d4af37;
        }

        .project-image-container {
            position: relative;
            width: 100%;
            height: 250px;
            overflow: hidden;
            background: #0a0a0a;
        }

        .project-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.8s ease-in-out;
        }

        .project-image.fade {
            opacity: 0;
        }

        .project-info {
            padding: 25px;
        }

        .project-title {
            font-size: 1.5em;
            margin-bottom: 10px;
            color: #ffffff;
        }

        .project-brief {
            color: #b0b0b0;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .project-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .tag {
            background: rgba(212, 175, 55, 0.2);
            color: #d4af37;
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 0.85em;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 40px;
            color: #b0b0b0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2em;
            }
            
            .profile-section {
                flex-direction: column;
            }

            .info-text {
                text-align: center;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .avatar {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <div class="profile-section">
                <div class="avatar-container">
                    <img id="userAvatar" class="avatar" src="https://via.placeholder.com/180" alt="Avatar">
                </div>
                <div class="info-text">
                    <h1 id="userName">TU NOMBRE</h1>
                    <p id="userBio">Developer & Builder en Roblox | Creando experiencias únicas y mundos increíbles</p>
                </div>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="projectCount">0</div>
                    <div class="stat-label">Proyectos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">3+</div>
                    <div class="stat-label">Años de Experiencia</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">50K+</div>
                    <div class="stat-label">Visitas Totales</div>
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div class="projects-section">
            <h2 class="section-title">Mis Trabajos</h2>
            <div id="projectsGrid" class="projects-grid"></div>
        </div>
    </div>

    <script>
const CONFIG = {
    robloxUserId: 1269759681,
    userName: "Dumar",
    userBio: "Programador de roblox | Creando experiencias únicas y mundos increíbles, siempre recuerda. [ hago los sueños realidad ]"
};

const projects = [
    {
        id: 1,
        title: "(NUEVO MUNDO) Escapa de Miry y Marvin",
        brief: "Un obby completo, con sistemas de rebirths",
        images: [
            "https://media.discordapp.net/attachments/1382138852017180672/1382228922825179258/image.png?ex=69083c7f&is=6906eaff&hm=e68f10d03fa5d8ab61c50df1ba0f7884b8e4d91f6e2e68f4058086b5f96bf677&=&format=webp&quality=lossless&width=1604&height=902",
        ],
        tags: ["Scripting"],
        gameId: 82235088915289,
        groupId: 33199721,
        description: "Este es un proyecto de un obby, ",
        role: "Programador",
        duration: "1-2 meses"
    },
    {
        id: 2,
        title: "Obby Extremo",
        brief: "Obby de 500 stages con mecánicas únicas",
        images: [
            "https://placehold.co/400x250/1a1a1a/d4af37?text=Proyecto+2+-+Img+1",
            "https://placehold.co/400x250/1a1a1a/ffffff?text=Proyecto+2+-+Img+2"
        ],
        tags: ["Building", "Lighting"],
        gameId: null,
        groupId: null,
        description: "Otro proyecto increíble...",
        role: "Builder",
        duration: "2 meses"
    }
];

async function loadUserAvatar() {
    const avatarImg = document.getElementById('userAvatar');
    const fallback = "https://placehold.co/180x180/1a1a1a/FFFFFF?text=Avatar";

    try {
        const url = `https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${CONFIG.robloxUserId}&size=180x180&format=Png&isCircular=false`;
        const response = await fetch(url);
        const data = await response.json();
        console.log("Respuesta Roblox:", data);

        if (data.data && data.data[0] && data.data[0].imageUrl) {
            avatarImg.src = data.data[0].imageUrl;
            console.log("✅ Avatar cargado:", data.data[0].imageUrl);
        } else {
            console.warn("⚠️ No se encontró avatar válido");
            avatarImg.src = fallback;
        }
    } catch (error) {
        console.error("⚠️ Error cargando avatar:", error);
        avatarImg.src = fallback;
    }
}

async function loadGameThumbnail(gameId) {
    try {
        const response = await fetch(`https://thumbnails.roblox.com/v1/games/icons?universeIds=${gameId}&size=512x512&format=Png`);
        const data = await response.json();
        if (data.data && data.data[0]) {
            return data.data[0].imageUrl;
        }
    } catch (error) {
        console.error('Error cargando thumbnail:', error);
    }
    return null;
}

function createImageCarousel(images, projectId) {
    let currentIndex = 0;
    const container = document.createElement('div');
    container.className = 'project-image-container';
    
    images.forEach((src, index) => {
        const img = document.createElement('img');
        img.className = 'project-image';
        img.src = src;
        img.style.position = index === 0 ? 'relative' : 'absolute';
        img.style.top = '0';
        img.style.left = '0';
        img.style.opacity = index === 0 ? '1' : '0';
        container.appendChild(img);
    });

    if (images.length > 1) {
        setInterval(() => {
            const imgs = container.querySelectorAll('.project-image');
            imgs[currentIndex].style.opacity = '0';
            currentIndex = (currentIndex + 1) % images.length;
            imgs[currentIndex].style.opacity = '1';
        }, 120000);
    }

    return container;
}

async function renderProjects() {
    const grid = document.getElementById('projectsGrid');
    grid.innerHTML = '<div class="loading">Cargando proyectos...</div>';

    for (let project of projects) {
        if (project.gameId) {
            const thumbnail = await loadGameThumbnail(project.gameId);
            if (thumbnail) {
                project.images.unshift(thumbnail);
            }
        }
    }

    grid.innerHTML = '';

    projects.forEach(project => {
        const card = document.createElement('a');
        card.className = 'project-card';
        card.href = `project.html?id=${project.id}`;
        
        const imageContainer = createImageCarousel(project.images, project.id);
        card.appendChild(imageContainer);

        const info = document.createElement('div');
        info.className = 'project-info';
        info.innerHTML = `
            <h3 class="project-title">${project.title}</h3>
            <p class="project-brief">${project.brief}</p>
            <div class="project-tags">
                ${project.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
        `;
        card.appendChild(info);

        grid.appendChild(card);
    });

    document.getElementById('projectCount').textContent = projects.length;
}

document.getElementById('userName').textContent = CONFIG.userName;
document.getElementById('userBio').textContent = CONFIG.userBio;
loadUserAvatar();
renderProjects();

localStorage.setItem('portfolioProjects', JSON.stringify(projects));
</script>

</body>
</html>